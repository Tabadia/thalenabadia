!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,(function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=0,o=n[i];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var a=r&&r[o];a&&(this.off(t,o),delete r[o]),o.apply(this,e),o=n[i+=a?0:1]}return this}},e.allOff=e.removeAllListeners=function(){delete this._events,delete this._onceEvents},t})),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],(function(n){return e(t,n)})):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,(function(t,e){function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e,o){return this instanceof i?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=function(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}(t),this.options=n({},this.options),"function"==typeof e?o=e:n(this.options,e),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new i(t,e,o)}function o(t){this.img=t}function r(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,s=t.console;i.prototype=Object.create(e.prototype),i.prototype.options={},i.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},i.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var a=r[i];this.addElementBackgroundImages(a)}}}};var l={1:!0,9:!0,11:!0};return i.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,t),i=n.exec(e.backgroundImage)}},i.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},i.prototype.addBackground=function(t,e){var n=new r(t,e);this.images.push(n)},i.prototype.check=function(){function t(t,n,i){setTimeout((function(){e.progress(t,n,i)}))}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach((function(e){e.once("progress",t),e.check()})):void this.complete()},i.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+n,t,e)},i.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(o.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},i.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((a=e).fn.imagesLoaded=function(t,e){return new i(this,t,e).jqDeferred.promise(a(this))})},i.makeJQueryPlugin(),i})),function(t,e){"use strict";if(!e)throw new Error("Filterizr requires jQuery to work.");var n=function(t){this.init(t)};n.prototype={init:function(t){this.root={x:0,y:0,w:t}},fit:function(t){var e,n,i,o=t.length,r=o>0?t[0].h:0;for(this.root.h=r,e=0;e<o;e++)i=t[e],(n=this.findNode(this.root,i.w,i.h))?i.fit=this.splitNode(n,i.w,i.h):i.fit=this.growDown(i.w,i.h)},findNode:function(t,e,n){return t.used?this.findNode(t.right,e,n)||this.findNode(t.down,e,n):e<=t.w&&n<=t.h?t:null},splitNode:function(t,e,n){return t.used=!0,t.down={x:t.x,y:t.y+n,w:t.w,h:t.h-n},t.right={x:t.x+e,y:t.y,w:t.w-e,h:n},t},growDown:function(t,e){var n;return this.root={used:!0,x:0,y:0,w:this.root.w,h:this.root.h+e,down:{x:0,y:this.root.h,w:this.root.w,h:e},right:this.root},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null}},e.fn.filterizr=function(){var t=this,n=arguments;if(t._fltr||(t._fltr=e.fn.filterizr.prototype.init(t,"object"==typeof n[0]?n[0]:void 0)),"string"==typeof n[0]){if(n[0].lastIndexOf("_")>-1)throw new Error("Filterizr error: You cannot call private methods");if("function"!=typeof t._fltr[n[0]])throw new Error("Filterizr error: There is no such function");t._fltr[n[0]](n[1],n[2])}return t},e.fn.filterizr.prototype={init:function(t,n){var i=e(t).extend(e.fn.filterizr.prototype);return i.options={animationDuration:.5,callbacks:{onFilteringStart:function(){},onFilteringEnd:function(){},onShufflingStart:function(){},onShufflingEnd:function(){},onSortingStart:function(){},onSortingEnd:function(){}},delay:0,delayMode:"progressive",easing:"ease-out",filter:"all",filterOutCss:{opacity:0,transform:"scale(0.5)"},filterInCss:{opacity:1,transform:"scale(1)"},layout:"sameSize",setupControls:!0},0===arguments.length&&(n=i.options),1===arguments.length&&"object"==typeof arguments[0]&&(n=arguments[0]),n&&i.setOptions(n),i.css({padding:0,position:"relative"}),i._lastCategory=0,i._isAnimating=!1,i._isShuffling=!1,i._isSorting=!1,i._mainArray=i._getFiltrItems(),i._subArrays=i._makeSubarrays(),i._activeArray=i._getCollectionByFilter(i.options.filter),i._toggledCategories={},i._typedText=e("input[data-search]").val()||"",i._uID="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),i._setupEvents(),i.options.setupControls&&i._setupControls(),i.filter(i.options.filter),i},filter:function(t){var e=this,n=e._getCollectionByFilter(t);e.options.filter=t,e.trigger("filteringStart"),e._handleFiltering(n),e._isSearchActivated()&&e.search(e._typedText)},toggleFilter:function(t){var e=this,n=[];e.trigger("filteringStart"),t&&(e._toggledCategories[t]?delete e._toggledCategories[t]:e._toggledCategories[t]=!0),e._multifilterModeOn()?(n=e._makeMultifilterArray(),e._handleFiltering(n),e._isSearchActivated()&&e.search(e._typedText)):(e.filter("all"),e._isSearchActivated()&&e.search(e._typedText))},search:function(t){var e=this,n=e._multifilterModeOn()?e._makeMultifilterArray():e._getCollectionByFilter(e.options.filter),i=[],o=0;if(e._isSearchActivated())for(o=0;o<n.length;o++)n[o].text().toLowerCase().indexOf(t.toLowerCase())>-1&&i.push(n[o]);if(i.length>0)e._handleFiltering(i);else if(e._isSearchActivated())for(o=0;o<e._activeArray.length;o++)e._activeArray[o]._filterOut();else e._handleFiltering(n)},shuffle:function(){var t=this;t._isAnimating=!0,t._isShuffling=!0,t.trigger("shufflingStart"),t._mainArray=t._fisherYatesShuffle(t._mainArray),t._subArrays=t._makeSubarrays();var e=t._multifilterModeOn()?t._makeMultifilterArray():t._getCollectionByFilter(t.options.filter);t._isSearchActivated()?t.search(t._typedText):t._placeItems(e)},sort:function(t,e){var n=this;if(t=t||"domIndex",e=e||"asc",n._isAnimating=!0,n._isSorting=!0,n.trigger("sortingStart"),"domIndex"!==t&&"sortData"!==t&&"w"!==t&&"h"!==t)for(var i=0;i<n._mainArray.length;i++)n._mainArray[i][t]=n._mainArray[i].data(t);n._mainArray.sort(n._comparator(t,e)),n._subArrays=n._makeSubarrays();var o=n._multifilterModeOn()?n._makeMultifilterArray():n._getCollectionByFilter(n.options.filter);n._isSearchActivated()?n.search(n._typedText):n._placeItems(o)},setOptions:function(t){var e=this,n=0;for(var i in t)e.options[i]=t[i];if(e._mainArray&&(t.animationDuration||t.delay||t.easing||t.delayMode))for(n=0;n<e._mainArray.length;n++)e._mainArray[n].css("transition","all "+e.options.animationDuration+"s "+e.options.easing+" "+e._mainArray[n]._calcDelay()+"ms");t.callbacks&&(t.callbacks.onFilteringStart||(e.options.callbacks.onFilteringStart=function(){}),t.callbacks.onFilteringEnd||(e.options.callbacks.onFilteringEnd=function(){}),t.callbacks.onShufflingStart||(e.options.callbacks.onShufflingStart=function(){}),t.callbacks.onShufflingEnd||(e.options.callbacks.onShufflingEnd=function(){}),t.callbacks.onSortingStart||(e.options.callbacks.onSortingStart=function(){}),t.callbacks.onSortingEnd||(e.options.callbacks.onSortingEnd=function(){})),e.options.filterInCss.transform||(e.options.filterInCss.transform="translate3d(0,0,0)"),e.options.filterOutCss.transform||(e.options.filterOutCss.transform="translate3d(0,0,0)")},_getFiltrItems:function(){var t=this,n=e(t.find(".filtr-item")),o=[];return e.each(n,(function(n,r){var a=e(r).extend(i)._init(n,t);o.push(a)})),o},_makeSubarrays:function(){for(var t=this,e=[],n=0;n<t._lastCategory;n++)e.push([]);for(n=0;n<t._mainArray.length;n++)if("object"==typeof t._mainArray[n]._category)for(var i=t._mainArray[n]._category.length,o=0;o<i;o++)e[t._mainArray[n]._category[o]-1].push(t._mainArray[n]);else e[t._mainArray[n]._category-1].push(t._mainArray[n]);return e},_makeMultifilterArray:function(){for(var t=this,e=[],n={},i=0;i<t._mainArray.length;i++){var o=t._mainArray[i],r=!1,a=o.domIndex in n==0;if(Array.isArray(o._category)){for(var s=0;s<o._category.length;s++)if(o._category[s]in t._toggledCategories){r=!0;break}}else o._category in t._toggledCategories&&(r=!0);a&&r&&(n[o.domIndex]=!0,e.push(o))}return e},_setupControls:function(){var t=this;e("*[data-filter]").click((function(){var n=e(this).data("filter");t.options.filter!==n&&t.filter(n)})),e("*[data-multifilter]").click((function(){var n=e(this).data("multifilter");"all"===n?(t._toggledCategories={},t.filter("all")):t.toggleFilter(n)})),e("*[data-shuffle]").click((function(){t.shuffle()})),e("*[data-sortAsc]").click((function(){var n=e("*[data-sortOrder]").val();t.sort(n,"asc")})),e("*[data-sortDesc]").click((function(){var n=e("*[data-sortOrder]").val();t.sort(n,"desc")})),e("input[data-search]").keyup((function(){t._typedText=e(this).val(),t._delayEvent((function(){t.search(t._typedText)}),250,t._uID)}))},_setupEvents:function(){var n=this;e(t).resize((function(){n._delayEvent((function(){n.trigger("resizeFiltrContainer")}),250,n._uID)})),n.on("resizeFiltrContainer",(function(){n._multifilterModeOn()?n.toggleFilter():n.filter(n.options.filter)})).on("filteringStart",(function(){n.options.callbacks.onFilteringStart()})).on("filteringEnd",(function(){n.options.callbacks.onFilteringEnd()})).on("shufflingStart",(function(){n._isShuffling=!0,n.options.callbacks.onShufflingStart()})).on("shufflingEnd",(function(){n.options.callbacks.onShufflingEnd(),n._isShuffling=!1})).on("sortingStart",(function(){n._isSorting=!0,n.options.callbacks.onSortingStart()})).on("sortingEnd",(function(){n.options.callbacks.onSortingEnd(),n._isSorting=!1}))},_calcItemPositions:function(){var t=this,i=t._activeArray,o=0,r=Math.round(t.width()/t.find(".filtr-item").outerWidth()),a=0,s=i[0].outerWidth(),l=0,c=0,u=0,f=0,d=0,h=[];if("packed"===t.options.layout){e.each(t._activeArray,(function(t,e){e._updateDimensions()}));var p=new n(t.outerWidth());for(p.fit(t._activeArray),f=0;f<i.length;f++)h.push({left:i[f].fit.x,top:i[f].fit.y});o=p.root.h}if("horizontal"===t.options.layout)for(a=1,f=1;f<=i.length;f++)s=i[f-1].outerWidth(),l=i[f-1].outerHeight(),h.push({left:c,top:u}),c+=s,o<l&&(o=l);else if("vertical"===t.options.layout){for(f=1;f<=i.length;f++)l=i[f-1].outerHeight(),h.push({left:c,top:u}),u+=l;o=u}else if("sameHeight"===t.options.layout){a=1;var g=t.outerWidth();for(f=1;f<=i.length;f++){s=i[f-1].width();var m=i[f-1].outerWidth(),v=0;i[f]&&(v=i[f].width()),h.push({left:c,top:u}),(d=c+s+v)>g?(d=0,c=0,u+=i[0].outerHeight(),a++):c+=m}o=a*i[0].outerHeight()}else if("sameWidth"===t.options.layout){for(f=1;f<=i.length;f++){if(h.push({left:c,top:u}),f%r==0&&a++,c+=s,u=0,a>0)for(d=a;d>0;)u+=i[f-r*d].outerHeight(),d--;f%r==0&&(c=0)}for(f=0;f<r;f++){for(var y=0,b=f;i[b];)y+=i[b].outerHeight(),b+=r;y>o?(o=y,y=0):y=0}}else if("sameSize"===t.options.layout){for(f=1;f<=i.length;f++)h.push({left:c,top:u}),c+=s,f%r==0&&(u+=i[0].outerHeight(),c=0);o=(a=Math.ceil(i.length/r))*i[0].outerHeight()}return t.css("height",o),h},_handleFiltering:function(t){for(var e=this,n=e._getArrayOfUniqueItems(e._activeArray,t),i=0;i<n.length;i++)n[i]._filterOut();e._activeArray=t,e._placeItems(t)},_multifilterModeOn:function(){return Object.keys(this._toggledCategories).length>0},_isSearchActivated:function(){return this._typedText.length>0},_placeItems:function(t){var e=this;e._isAnimating=!0,e._itemPositions=e._calcItemPositions();for(var n=0;n<t.length;n++)t[n]._filterIn(e._itemPositions[n])},_getCollectionByFilter:function(t){return"all"===t?this._mainArray:this._subArrays[t-1]},_makeDeepCopy:function(t){var e={};for(var n in t)e[n]=t[n];return e},_comparator:function(t,e){return function(n,i){return"asc"===e?n[t]<i[t]?-1:n[t]>i[t]?1:0:"desc"===e?i[t]<n[t]?-1:i[t]>n[t]?1:0:void 0}},_getArrayOfUniqueItems:function(t,e){var n,i,o=[],r={},a=e.length;for(n=0;n<a;n++)r[e[n].domIndex]=!0;for(a=t.length,n=0;n<a;n++)(i=t[n]).domIndex in r||o.push(i);return o},_delayEvent:function(){var t={};return function(e,n,i){if(null===i)throw Error("UniqueID needed");t[i]&&clearTimeout(t[i]),t[i]=setTimeout(e,n)}}(),_fisherYatesShuffle:function(t){for(var e,n,i=t.length;i;)n=Math.floor(Math.random()*i--),e=t[i],t[i]=t[n],t[n]=e;return t}};var i={_init:function(t,e){var n=this;return n._parent=e,n._category=n._getCategory(),n._lastPos={},n.domIndex=t,n.sortData=n.data("sort"),n.w=0,n.h=0,n._isFilteredOut=!0,n._filteringOut=!1,n._filteringIn=!1,n.css(e.options.filterOutCss).css({"-webkit-backface-visibility":"hidden",perspective:"1000px","-webkit-perspective":"1000px","-webkit-transform-style":"preserve-3d",position:"absolute",transition:"all "+e.options.animationDuration+"s "+e.options.easing+" "+n._calcDelay()+"ms"}),n.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(){n._onTransitionEnd()})),n},_updateDimensions:function(){var t=this;t.w=t.outerWidth(),t.h=t.outerHeight()},_calcDelay:function(){var t=this,e=0;return"progressive"===t._parent.options.delayMode?e=t._parent.options.delay*t.domIndex:t.domIndex%2==0&&(e=t._parent.options.delay),e},_getCategory:function(){var t=this,e=t.data("category");if("string"==typeof e){e=e.split(", ");for(var n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))throw new Error("Filterizr: the value of data-category must be a number, starting from value 1 and increasing.");parseInt(e[n])>t._parent._lastCategory&&(t._parent._lastCategory=parseInt(e[n]))}}else e>t._parent._lastCategory&&(t._parent._lastCategory=e);return e},_onTransitionEnd:function(){var t=this;t._filteringOut?(e(t).addClass("filteredOut"),t._isFilteredOut=!0,t._filteringOut=!1):t._filteringIn&&(t._isFilteredOut=!1,t._filteringIn=!1),t._parent._isAnimating&&(t._parent._isShuffling?t._parent.trigger("shufflingEnd"):t._parent._isSorting?t._parent.trigger("sortingEnd"):t._parent.trigger("filteringEnd"),t._parent._isAnimating=!1)},_filterOut:function(){var t=this,e=t._parent._makeDeepCopy(t._parent.options.filterOutCss);e.transform+=" translate3d("+t._lastPos.left+"px,"+t._lastPos.top+"px, 0)",t.css(e),t.css("pointer-events","none"),t._filteringOut=!0},_filterIn:function(t){var n=this,i=n._parent._makeDeepCopy(n._parent.options.filterInCss);e(n).removeClass("filteredOut"),n._filteringIn=!0,n._lastPos=t,n.css("pointer-events","auto"),i.transform+=" translate3d("+t.left+"px,"+t.top+"px, 0)",n.css(i)}}}(this,jQuery),function(t,e,n,i){"use strict";t.fn.simpleLightbox=function(i){i=t.extend({sourceAttr:"href",overlay:!0,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",close:!0,closeText:"×",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0},i);var o,r=(e.navigator.pointerEnabled||e.navigator.msPointerEnabled,0),a=0,s=t(),l=function(){var t=n.body||n.documentElement;return""===(t=t.style).WebkitTransition?"-webkit-":""===t.MozTransition?"-moz-":""===t.OTransition?"-o-":""===t.transition&&""},c=!1,u=[],f=i.rel&&!1!==i.rel?function(e,n){return t(n.selector).filter((function(){return t(this).attr("rel")===e}))}(i.rel,this):this,d=0,h=!1!==(l=l()),p="pushState"in history,g=!1,m=e.location,v=function(){return m.hash.substring(1)},y=v(),b=function(){v();var t="pid="+(T+1),e=m.href.split("#")[0]+"#"+t;p?history[g?"replaceState":"pushState"]("",n.title,e):g?m.replace(e):m.hash=t,g=!0},_=function(){p?history.pushState("",n.title,m.pathname+m.search):m.hash="",clearTimeout(o)},x=function(){g?o=setTimeout(b,800):b()},E="simplelb",w=t("<div>").addClass("sl-overlay"),k=t("<button>").addClass("sl-close").html(i.closeText),C=t("<div>").addClass("sl-spinner").html("<div></div>"),S=t("<div>").addClass("sl-navigation").html('<button class="sl-prev">'+i.navText[0]+'</button><button class="sl-next">'+i.navText[1]+"</button>"),A=t("<div>").addClass("sl-counter").html('<span class="sl-current"></span>/<span class="sl-total"></span>'),I=!1,T=0,O=t("<div>").addClass("sl-caption "+i.captionClass+" pos-"+i.captionPosition),D=t("<div>").addClass("sl-image"),B=t("<div>").addClass("sl-wrapper").addClass(i.className),F=function(e){e.trigger(t.Event("show.simplelightbox")),i.disableScroll&&(d=W("hide")),B.appendTo("body"),D.appendTo(B),i.overlay&&w.appendTo(t("body")),I=!0,T=f.index(e),s=t("<img/>").hide().attr("src",e.attr(i.sourceAttr)),-1==u.indexOf(e.attr(i.sourceAttr))&&u.push(e.attr(i.sourceAttr)),D.html("").attr("style",""),s.appendTo(D),N(),w.fadeIn("fast"),t(".sl-close").fadeIn("fast"),C.show(),S.fadeIn("fast"),t(".sl-wrapper .sl-counter .sl-current").text(T+1),A.fadeIn("fast"),L(),i.preloading&&P(),setTimeout((function(){e.trigger(t.Event("shown.simplelightbox"))}),i.animationSpeed)},L=function(n){if(s.length){var o=new Image,r=t(e).width()*i.widthRatio,a=t(e).height()*i.heightRatio;o.src=s.attr("src"),t(o).bind("error",(function(e){f.eq(T).trigger(t.Event("error.simplelightbox")),I=!1,c=!0,C.hide(),i.alertError&&alert(i.alertErrorMessage),z(1==n||-1==n?n:1)})),o.onload=function(){void 0!==n&&f.eq(T).trigger(t.Event("changed.simplelightbox")).trigger(t.Event((1===n?"nextDone":"prevDone")+".simplelightbox")),i.history&&x(),-1==u.indexOf(s.attr("src"))&&u.push(s.attr("src"));var l=o.width,p=o.height;if(l>r||p>a){var g=l/p>r/a?l/r:p/a;l/=g,p/=g}t(".sl-image").css({top:(t(e).height()-p)/2+"px",left:(t(e).width()-l-d)/2+"px"}),C.hide(),s.css({width:l+"px",height:p+"px"}).fadeIn("fast"),c=!0;var m,v="self"==i.captionSelector?f.eq(T):f.eq(T).find(i.captionSelector);if(m="data"==i.captionType?v.data(i.captionsData):"text"==i.captionType?v.html():v.prop(i.captionsData),i.loop||(0===T&&t(".sl-prev").hide(),T>=f.length-1&&t(".sl-next").hide(),T>0&&t(".sl-prev").show(),T<f.length-1&&t(".sl-next").show()),1==f.length&&t(".sl-prev, .sl-next").hide(),1==n||-1==n){var y={opacity:1};i.animationSlide&&(h?(q(0,100*n+"px"),setTimeout((function(){q(i.animationSpeed/1e3,"0px")}),50)):y.left=parseInt(t(".sl-image").css("left"))+100*n+"px"),t(".sl-image").animate(y,i.animationSpeed,(function(){I=!1,M(m)}))}else I=!1,M(m);i.additionalHtml&&0===t(".sl-additional-html").length&&t("<div>").html(i.additionalHtml).addClass("sl-additional-html").appendTo(t(".sl-image"))}}},M=function(e){""!==e&&void 0!==e&&i.captions&&O.html(e).hide().appendTo(t(".sl-image")).delay(i.captionDelay).fadeIn("fast")},q=function(e,n){var i={};i[l+"transform"]="translateX("+n+")",i[l+"transition"]=l+"transform "+e+"s linear",t(".sl-image").css(i)},N=function(){t(e).on("resize."+E,L),t(n).on("click.simplelb touchstart."+E,".sl-close",(function(t){t.preventDefault(),c&&H()})),i.history&&setTimeout((function(){t(e).on("hashchange."+E,(function(){c&&v()===y&&H()}))}),40),S.on("click."+E,"button",(function(e){e.preventDefault(),r=0,z(t(this).hasClass("sl-next")?1:-1)}));var o=0,s=0,l=0,u=0,d=!1,p=0;D.on("touchstart.simplelb mousedown."+E,(function(t){return!!d||(h&&(p=parseInt(D.css("left"))),d=!0,o=t.originalEvent.pageX||t.originalEvent.touches[0].pageX,l=t.originalEvent.pageY||t.originalEvent.touches[0].pageY,!1)})).on("touchmove.simplelb mousemove.simplelb pointermove MSPointerMove",(function(t){if(!d)return!0;t.preventDefault(),s=t.originalEvent.pageX||t.originalEvent.touches[0].pageX,u=t.originalEvent.pageY||t.originalEvent.touches[0].pageY,r=o-s,a=l-u,i.animationSlide&&(h?q(0,-r+"px"):D.css("left",p-r+"px"))})).on("touchend.simplelb mouseup.simplelb touchcancel.simplelb mouseleave.simplelb pointerup pointercancel MSPointerUp MSPointerCancel",(function(t){if(d){d=!1;var e=!0;i.loop||(0===T&&r<0&&(e=!1),T>=f.length-1&&r>0&&(e=!1)),Math.abs(r)>i.swipeTolerance&&e?z(r>0?1:-1):i.animationSlide&&(h?q(i.animationSpeed/1e3,"0px"):D.animate({left:p+"px"},i.animationSpeed/2)),i.swipeClose&&Math.abs(a)>50&&Math.abs(r)<i.swipeTolerance&&H()}}))},j=function(){S.off("click","button"),t(n).off("click."+E,".sl-close"),t(e).off("resize."+E),t(e).off("hashchange."+E)},P=function(){var e=T+1<0?f.length-1:T+1>=f.length-1?0:T+1,n=T-1<0?f.length-1:T-1>=f.length-1?0:T-1;t("<img />").attr("src",f.eq(e).attr(i.sourceAttr)).on("load",(function(){-1==u.indexOf(t(this).attr("src"))&&u.push(t(this).attr("src")),f.eq(T).trigger(t.Event("nextImageLoaded.simplelightbox"))})),t("<img />").attr("src",f.eq(n).attr(i.sourceAttr)).on("load",(function(){-1==u.indexOf(t(this).attr("src"))&&u.push(t(this).attr("src")),f.eq(T).trigger(t.Event("prevImageLoaded.simplelightbox"))}))},z=function(e){f.eq(T).trigger(t.Event("change.simplelightbox")).trigger(t.Event((1===e?"next":"prev")+".simplelightbox"));var n=T+e;if(!(I||(n<0||n>=f.length)&&!1===i.loop)){T=n<0?f.length-1:n>f.length-1?0:n,t(".sl-wrapper .sl-counter .sl-current").text(T+1);var o={opacity:0};i.animationSlide&&(h?q(i.animationSpeed/1e3,-100*e-r+"px"):o.left=parseInt(t(".sl-image").css("left"))+-100*e+"px"),t(".sl-image").animate(o,i.animationSpeed,(function(){setTimeout((function(){var n=f.eq(T);s.attr("src",n.attr(i.sourceAttr)),-1==u.indexOf(n.attr(i.sourceAttr))&&C.show(),t(".sl-caption").remove(),L(e),i.preloading&&P()}),100)}))}},H=function(){if(!I){var e=f.eq(T),n=!1;e.trigger(t.Event("close.simplelightbox")),i.history&&_(),t(".sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter").fadeOut("fast",(function(){i.disableScroll&&W("show"),t(".sl-wrapper, .sl-overlay").remove(),j(),n||e.trigger(t.Event("closed.simplelightbox")),n=!0})),s=t(),c=!1,I=!1}},W=function(i){var o=0;if("hide"==i){var r=e.innerWidth;if(!r){var a=n.documentElement.getBoundingClientRect();r=a.right-Math.abs(a.left)}if(n.body.clientWidth<r){var s=n.createElement("div"),l=parseInt(t("body").css("padding-right"),10);s.className="sl-scrollbar-measure",t("body").append(s),o=s.offsetWidth-s.clientWidth,t(n.body)[0].removeChild(s),t("body").data("padding",l),o>0&&t("body").addClass("hidden-scroll").css({"padding-right":l+o})}}else t("body").removeClass("hidden-scroll").css({"padding-right":t("body").data("padding")});return o};return i.close&&k.appendTo(B),i.showCounter&&f.length>1&&(A.appendTo(B),A.find(".sl-total").text(f.length)),i.nav&&S.appendTo(B),i.spinner&&C.appendTo(B),f.on("click."+E,(function(e){if(function(e){if(!i.fileExt)return!0;var n=t(e).attr(i.sourceAttr).match(/\.([0-9a-z]+)(?=[?#])|(\.)(?:[\w]+)$/gim);return n&&"a"==t(e).prop("tagName").toLowerCase()&&new RegExp(".("+i.fileExt+")$","i").test(n)}(this)){if(e.preventDefault(),I)return!1;F(t(this))}})),t(n).on("click.simplelb touchstart."+E,(function(e){c&&i.docClose&&0===t(e.target).closest(".sl-image").length&&0===t(e.target).closest(".sl-navigation").length&&H()})),i.disableRightClick&&t(n).on("contextmenu",".sl-image img",(function(t){return!1})),i.enableKeyboard&&t(n).on("keyup."+E,(function(t){if(r=0,c){t.preventDefault();var e=t.keyCode;27==e&&H(),37!=e&&39!=t.keyCode||z(39==t.keyCode?1:-1)}})),this.open=function(e){e=e||t(this[0]),F(e)},this.next=function(){z(1)},this.prev=function(){z(-1)},this.close=function(){H()},this.destroy=function(){t(n).unbind("click."+E).unbind("keyup."+E),H(),t(".sl-overlay, .sl-wrapper").remove(),this.off("click")},this.refresh=function(){this.destroy(),t(this).simpleLightbox(i)},this}}(jQuery,window,document),$(document).ready((function(){$(".filtr-container").css("visibility","hidden"),$(".filtr-controls").after('<div class="filtr-loading"></div>'),options={callbacks:{onFilteringEnd:function(){var t=$(".filtr-controls span.active").attr("data-filter");$(".filtr-item").each((function(){0!=$(this).css("opacity")?$(this).find("a").attr("data-simplelightbox",t):$(this).find("a").removeAttr("data-simplelightbox")})),$('a[data-simplelightbox="'+t+'"]').simpleLightbox({showCounter:!1,history:!1,captionType:"data",captionsData:"caption"}).refresh()}},layout:"sameWidth"},$(".filtr-container").imagesLoaded((function(){$(".filtr-container").filterizr(options);$(".filtr-container").css("visibility","visible"),$(".filtr-loading").remove()})),$(".filtr-controls").on("click","span",(function(){$(".filtr-controls").find("span").removeClass("active"),$(this).addClass("active")}))})),function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.baguetteBox=e()}(this,(function(){"use strict";var t,e,n,i,o,r={},a={captions:!0,buttons:"auto",fullScreen:!1,noScrollbars:!1,bodyClass:"baguetteBox-open",titleTag:!1,async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},s={},l=[],c=0,u=!1,f={},d=!1,h=/.+\.(gif|jpe?g|png|webp)/i,p={},g=[],m=null,v=function(t){-1!==t.target.id.indexOf("baguette-img")&&D()},y=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,L()},b=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,F()},_=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,D()},x=function(t){f.count++,1<f.count&&(f.multitouch=!0),f.startX=t.changedTouches[0].pageX,f.startY=t.changedTouches[0].pageY},E=function(t){if(!d&&!f.multitouch){t.preventDefault?t.preventDefault():t.returnValue=!1;var e=t.touches[0]||t.changedTouches[0];40<e.pageX-f.startX?(d=!0,L()):e.pageX-f.startX<-40?(d=!0,F()):100<f.startY-e.pageY&&D()}},w=function(){f.count--,f.count<=0&&(f.multitouch=!1),d=!1},k=function(){w()},C=function(e){"block"===t.style.display&&t.contains&&!t.contains(e.target)&&(e.stopPropagation(),O())};function S(t){if(p.hasOwnProperty(t)){var e=p[t].galleries;[].forEach.call(e,(function(t){[].forEach.call(t,(function(t){H(t.imageElement,"click",t.eventHandler)})),l===t&&(l=[])})),delete p[t]}}function A(t){switch(t.keyCode){case 37:L();break;case 39:F();break;case 27:D();break;case 36:!function(t){t&&t.preventDefault(),M(0)}(t);break;case 35:!function(t){t&&t.preventDefault(),M(l.length-1)}(t)}}function I(o,s){if(l!==o){for(l=o,function(o){for(var s in o=o||{},a)r[s]=a[s],void 0!==o[s]&&(r[s]=o[s]);e.style.transition=e.style.webkitTransition="fadeIn"===r.animation?"opacity .4s ease":"slideIn"===r.animation?"":"none","auto"===r.buttons&&("ontouchstart"in window||1===l.length)&&(r.buttons=!1),n.style.display=i.style.display=r.buttons?"":"none";try{t.style.backgroundColor=r.overlayBackgroundColor}catch(t){}}(s);e.firstChild;)e.removeChild(e.firstChild);for(var c,u=[],f=[],d=g.length=0;d<o.length;d++)(c=$("div")).className="full-image",c.id="baguette-img-"+d,g.push(c),u.push("baguetteBox-figure-"+d),f.push("baguetteBox-figcaption-"+d),e.appendChild(g[d]);t.setAttribute("aria-labelledby",u.join(" ")),t.setAttribute("aria-describedby",f.join(" "))}}function T(e){r.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==t.style.display&&(z(document,"keydown",A),f={count:0,startX:null,startY:null},B(c=e,(function(){j(c),P(c)})),N(),t.style.display="block",r.fullScreen&&(t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()),setTimeout((function(){t.className="visible",r.bodyClass&&document.body.classList&&document.body.classList.add(r.bodyClass),r.afterShow&&r.afterShow()}),50),r.onChange&&r.onChange(c,g.length),m=document.activeElement,O(),u=!0)}function O(){r.buttons?n.focus():o.focus()}function D(){r.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==t.style.display&&(H(document,"keydown",A),t.className="",setTimeout((function(){t.style.display="none",document.fullscreen&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()),r.bodyClass&&document.body.classList&&document.body.classList.remove(r.bodyClass),r.afterHide&&r.afterHide(),m&&m.focus(),u=!1}),500))}function B(t,e){var n=g[t],i=l[t];if(void 0!==n&&void 0!==i)if(n.getElementsByTagName("img")[0])e&&e();else{var o=i.imageElement,a=o.getElementsByTagName("img")[0],s="function"==typeof r.captions?r.captions.call(l,o):o.getAttribute("data-caption")||o.title,c=function(t){var e=t.href;if(t.dataset){var n=[];for(var i in t.dataset)"at-"!==i.substring(0,3)||isNaN(i.substring(3))||(n[i.replace("at-","")]=t.dataset[i]);for(var o=Object.keys(n).sort((function(t,e){return parseInt(t,10)<parseInt(e,10)?-1:1})),r=window.innerWidth*window.devicePixelRatio,a=0;a<o.length-1&&o[a]<r;)a++;e=n[o[a]]||e}return e}(o),u=$("figure");if(u.id="baguetteBox-figure-"+t,u.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',r.captions&&s){var f=$("figcaption");f.id="baguetteBox-figcaption-"+t,f.innerHTML=s,u.appendChild(f)}n.appendChild(u);var d=$("img");d.onload=function(){var n=document.querySelector("#baguette-img-"+t+" .baguetteBox-spinner");u.removeChild(n),!r.async&&e&&e()},d.setAttribute("src",c),d.alt=a&&a.alt||"",r.titleTag&&s&&(d.title=s),u.appendChild(d),r.async&&e&&e()}}function F(){return M(c+1)}function L(){return M(c-1)}function M(t,e){return!u&&0<=t&&t<e.length?(I(e,r),T(t),!0):t<0?(r.animation&&q("left"),!1):t>=g.length?(r.animation&&q("right"),!1):(B(c=t,(function(){j(c),P(c)})),N(),r.onChange&&r.onChange(c,g.length),!0)}function q(t){e.className="bounce-from-"+t,setTimeout((function(){e.className=""}),400)}function N(){var t=100*-c+"%";"fadeIn"===r.animation?(e.style.opacity=0,setTimeout((function(){s.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t,e.style.opacity=1}),400)):s.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t}function j(t){t-c>=r.preload||B(t+1,(function(){j(t+1)}))}function P(t){c-t>=r.preload||B(t-1,(function(){P(t-1)}))}function z(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent("on"+e,(function(t){(t=t||window.event).target=t.target||t.srcElement,n(t)}))}function H(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent("on"+e,n)}function W(t){return document.getElementById(t)}function $(t){return document.createElement(t)}return[].forEach||(Array.prototype.forEach=function(t,e){for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)}),[].filter||(Array.prototype.filter=function(t,e,n,i,o){for(n=this,i=[],o=0;o<n.length;o++)t.call(e,n[o],o,n)&&i.push(n[o]);return i}),{run:function(r,a){return s.transforms=function(){var t=$("div");return void 0!==t.style.perspective||void 0!==t.style.webkitPerspective}(),s.svg=function(){var t=$("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),s.passiveEvents=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),function(){if(t=W("baguetteBox-overlay"))return e=W("baguetteBox-slider"),n=W("previous-button"),i=W("next-button"),void(o=W("close-button"));(t=$("div")).setAttribute("role","dialog"),t.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(t),(e=$("div")).id="baguetteBox-slider",t.appendChild(e),(n=$("button")).setAttribute("type","button"),n.id="previous-button",n.setAttribute("aria-label","Previous"),n.innerHTML=s.svg?'<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&lt;",t.appendChild(n),(i=$("button")).setAttribute("type","button"),i.id="next-button",i.setAttribute("aria-label","Next"),i.innerHTML=s.svg?'<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&gt;",t.appendChild(i),(o=$("button")).setAttribute("type","button"),o.id="close-button",o.setAttribute("aria-label","Close"),o.innerHTML=s.svg?'<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>':"&times;",t.appendChild(o),n.className=i.className=o.className="baguetteBox-button",function(){var r=s.passiveEvents?{passive:!1}:null,a=s.passiveEvents?{passive:!0}:null;z(t,"click",v),z(n,"click",y),z(i,"click",b),z(o,"click",_),z(e,"contextmenu",k),z(t,"touchstart",x,a),z(t,"touchmove",E,r),z(t,"touchend",w),z(document,"focus",C,!0)}()}(),S(r),function(t,e){var n=document.querySelectorAll(t),i={galleries:[],nodeList:n};return p[t]=i,[].forEach.call(n,(function(t){e&&e.filter&&(h=e.filter);var n=[];if(n="A"===t.tagName?[t]:t.getElementsByTagName("a"),0!==(n=[].filter.call(n,(function(t){if(-1===t.className.indexOf(e&&e.ignoreClass))return h.test(t.href)}))).length){var o=[];[].forEach.call(n,(function(t,n){var i=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,I(o,e),T(n)},r={eventHandler:i,imageElement:t};z(t,"click",i),o.push(r)})),i.galleries.push(o)}})),i.galleries}(r,a)},show:M,showNext:F,showPrevious:L,hide:D,destroy:function(){!function(){var r=s.passiveEvents?{passive:!1}:null,a=s.passiveEvents?{passive:!0}:null;H(t,"click",v),H(n,"click",y),H(i,"click",b),H(o,"click",_),H(e,"contextmenu",k),H(t,"touchstart",x,a),H(t,"touchmove",E,r),H(t,"touchend",w),H(document,"focus",C,!0)}(),function(){for(var t in p)p.hasOwnProperty(t)&&S(t)}(),H(document,"keydown",A),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),p={},l=[],c=0}}})),document.querySelectorAll("[data-bss-baguettebox]").length>0&&baguetteBox.run("[data-bss-baguettebox]",{animation:"slideIn"});